{% extends 'SyliusWebBundle:Frontend:layout.html.twig' %}

{% from 'SyliusWebBundle:Frontend/Macros:misc.html.twig' import pagination %}
{% from 'SyliusWebBundle:Frontend/Product:macros.html.twig' import grid %}
{% import _self as index %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets output='styles/index.css' '@HypebeastWebBundle/Resources/assets/less/index.less' %}
    <link rel="stylesheet" href="{{ asset_url }}" type="text/css" />
    {% endstylesheets %}
{% endblock stylesheets %}

{% block content %}
    <div class="toolbar row">
        <div class="col-sm-6 sort-by">
            Sort by Price:
            <a href="{{ index.path_with_params({'sort': 'desc'}) }}">High</a> /
            <a href="{{ index.path_with_params({'sort': 'asc'}) }}">Low</a>
        </div>
        <div class="col-sm-6 items-per-page text-right">
            Show <a href="{{ index.path_with_params({'limit': 30}) }}">30</a> /
            <a href="{{ index.path_with_params({'limit': 60}) }}">60</a> /
            <a href="{{ index.path_with_params({'limit': 90}) }}">90</a> Items Per Page
        </div>
    </div>

    <hr/>

    {{ grid(products) }}
    {{ pagination(products) }}
{% endblock %}

{% macro path_with_params(params) %}
    {{ path(app.request.get('_route'), app.request.get('_route_params')|merge(app.request.query.all|merge(params))) }}
{% endmacro %}