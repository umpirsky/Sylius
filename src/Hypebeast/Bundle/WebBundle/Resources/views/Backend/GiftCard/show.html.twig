{% extends 'SyliusWebBundle:Backend:layout.html.twig' %}

{% import 'SyliusResourceBundle:Macros:buttons.html.twig' as buttons %}
{% from 'SyliusWebBundle:Backend/Macros:misc.html.twig' import pagination %}

{% block content %}
<div class="page-header">
    <div class="actions-menu">
        {{ buttons.manage(path('sylius_backend_gift_card_index'), 'sylius.gift_card.manage'|trans) }}
        {% if giftCard.variant %}
        {{ buttons.show(path('sylius_backend_product_show', {'id': giftCard.variant.product.id}), 'sylius.gift_card.show_product'|trans) }}
        {% endif %}
        {% if giftCard.order %}
        {{ buttons.show(path('sylius_backend_order_show', {'id': giftCard.order.id}), 'sylius.gift_card.show_order'|trans) }}
        {% endif %}
        {% if giftCard.coupon %}
        {{ buttons.show(path('sylius_backend_promotion_show', {'id': giftCard.coupon.promotion.id}), 'sylius.gift_card.show_promotion'|trans) }}
        {% endif %}
    </div>
    <h1><i class="glyphicon glyphicon-gift"></i> {{ 'sylius.gift_card.show_header'|trans|raw }}</h1>
</div>

<table class="table table-bordered">
    <tbody>
        <tr>
            <td>{{ 'sylius.gift_card.id'|trans }}</td>
            <td>{{ giftCard.id }}</td>
        </tr>
        {% if giftCard.coupon %}
        <tr>
            <td>{{ 'sylius.gift_card.code'|trans }}</td>
            <td>{{ giftCard.coupon.code }}</td>
        </tr>
        {% endif %}
        <tr>
            <td>{{ 'sylius.gift_card.name'|trans }}</td>
            <td>{{ giftCard.name }}</td>
        </tr>
        <tr>
            <td>{{ 'sylius.gift_card.email'|trans }}</td>
            <td><a href="mailto:{{ giftCard.email }}">{{ giftCard.email }}</a></td>
        </tr>
        {% if giftCard.message %}
        <tr>
            <td>{{ 'sylius.gift_card.message'|trans }}</td>
            <td>{{ giftCard.message }}</td>
        </tr>
        {% endif %}
        <tr>
            <td>{{ 'sylius.gift_card.value'|trans }}</td>
            <td>{{ giftCard.value|sylius_price }}</td>
        </tr>
        <tr>
            <td>{{ 'sylius.gift_card.status'|trans }}</td>
            <td>
                <span class="label label-{{ constant('Hypebeast\\Bundle\\CoreBundle\\Entity\\GiftCard::STATUS_SENT') == giftCard.status ? 'success' : 'default'}}">
                    {{ giftCard.statusLabel|trans }}
                </span>
            </td>
        </tr>
        <tr>
            <td>{{ 'sylius.gift_card.created_at'|trans }}</td>
            <td>{{ giftCard.createdAt|date }}</td>
        </tr>
        <tr>
            <td>{{ 'sylius.gift_card.updated_at'|trans }}</td>
            <td>{{ giftCard.updatedAt|date }}</td>
        </tr>
    </tbody>
</table>
{% endblock %}
